<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="mainBorderPane" prefHeight="700.0" prefWidth="1000.0" 
            stylesheets="@style-menu.css" 
            style="-fx-background-color: #f5f7fa;"
            xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="taskboard.ui.main.MainController">

   <top>
      <HBox styleClass="top-header" alignment="CENTER_LEFT" spacing="20">
         <padding>
            <Insets top="12" right="20" bottom="12" left="20" />
         </padding>
         
         <!-- Logo Section -->
         <HBox alignment="CENTER_LEFT" spacing="10">
            <ImageView fitHeight="75.0" fitWidth="75.0" preserveRatio="true">
               <image>
                  <Image url="@../image/logo.png" />
               </image>
            </ImageView>
            <Label text="TaskBoard" styleClass="logo-label" />
         </HBox>
         
         <Region HBox.hgrow="ALWAYS" />
         
         <!-- Center Section: Project Description -->
         <Label text="XÃ¢y dá»±ng á»©ng dá»¥ng Quáº£n LÃ½ TÃ¡c Vá»¥ trÃªn Desktop" 
                style="-fx-font-family: 'Segoe UI Semibold', 'Arial', sans-serif; 
                       -fx-font-size: 20px; 
                       -fx-font-weight: 700; 
                       -fx-text-fill: linear-gradient(to right, #667eea 0%, #764ba2 100%);
                       -fx-effect: dropshadow(gaussian, rgba(102, 126, 234, 0.3), 4, 0, 0, 1);" />
         
         <Region HBox.hgrow="ALWAYS" />
         
         <!-- Right Section: Create and User -->
         <HBox alignment="CENTER_RIGHT" spacing="15">
            <!-- Notification Bell Icon with Badge -->
            <HBox alignment="CENTER" spacing="5" styleClass="notification-container" 
                  onMouseClicked="#handleShowNotifications" style="-fx-cursor: hand;">
               <Label text="ðŸ””" style="-fx-font-size: 24px;"/>
               <Label fx:id="lblNotificationBadge" text="0" mouseTransparent="true"
                      style="-fx-background-color: #f56565; -fx-text-fill: white; -fx-font-size: 11px; 
                             -fx-font-weight: bold; -fx-padding: 2 6; -fx-background-radius: 10; 
                             -fx-min-width: 20; -fx-alignment: center;" visible="false"/>
            </HBox>
            
            <Button fx:id="btnGuide" text="HÆ°á»›ng dáº«n" onAction="#handleGuide" styleClass="create-btn" />
            <Label fx:id="userLabel" text="NgÆ°á»i dÃ¹ng" styleClass="user-label" />
         </HBox>
      </HBox>
   </top>

   <left>
      <VBox prefWidth="280.0" styleClass="sidebar" BorderPane.alignment="CENTER">
         <children>
            <!-- Header Section with gradient -->
            <VBox styleClass="sidebar-header">
               <Label text="TaskBoard" styleClass="app-title" />
            </VBox>
            
            <Separator styleClass="menu-separator" />
            
            <!-- Main Menu Section -->
            <VBox spacing="8" style="-fx-padding: 15 0 15 0;">
               <Button fx:id="btnDashboard" text="Dashboard / BÃ¡o cÃ¡o" onAction="#showDashboard" 
                       maxWidth="Infinity" styleClass="menu-btn" />
               
               <Button fx:id="btnUserManagement" text="Quáº£n lÃ½ ngÆ°á»i dÃ¹ng" onAction="#showUserManagement" 
                       maxWidth="Infinity" styleClass="menu-btn" />
               
               <Button fx:id="btnProjectManagement" text="Quáº£n lÃ½ dá»± Ã¡n &amp; thÃ nh viÃªn" onAction="#showProjectManagement" 
                       maxWidth="Infinity" styleClass="menu-btn" />
               
               <Button fx:id="btnKanban" text="Báº£ng cÃ´ng viá»‡c" onAction="#showKanban" 
                       maxWidth="Infinity" styleClass="menu-btn" />
            </VBox>
            
            <!-- Flexible spacing to push logout to bottom -->
            <Region VBox.vgrow="ALWAYS" />
            
            <Separator styleClass="menu-separator" />
            
            <!-- System Section -->
            <VBox spacing="8" style="-fx-padding: 15 0 20 0;">
               <Button fx:id="btnLogout" text="â†ª ÄÄƒng xuáº¥t" onAction="#handleLogout" 
                       maxWidth="Infinity" styleClass="logout-btn" />
            </VBox>
            
         </children>
      </VBox>
   </left>

   <center>
      <VBox alignment="CENTER" spacing="20" styleClass="content-area">
         <Label text="ChÃ o má»«ng Ä‘áº¿n vá»›i TaskBoard" styleClass="welcome-title" />
         <Label text="HÃ£y chá»n má»™t chá»©c nÄƒng tá»« menu bÃªn trÃ¡i" styleClass="welcome-subtitle" />
      </VBox>
   </center>
   
</BorderPane>